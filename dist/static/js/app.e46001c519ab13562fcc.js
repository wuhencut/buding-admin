webpackJsonp([21],{NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t("j1ja");var a=t("7+uW"),r=t("zL8q"),o=t.n(r),u=(t("tvR6"),{render:function(){var e=this.$createElement,n=this._self._c||e;return this.show?n("router-view"):this._e()},staticRenderFns:[]});var i=t("VU/8")({name:"App",data:function(){return{show:!0}},mounted:function(){}},u,!1,function(e){t("kwCW")},null,null).exports,s=t("Xxa5"),c=t.n(s),m=t("exGp"),p=t.n(m),l=t("/ocq"),f=t("//Fk"),d=t.n(f),g=t("mtWM"),h=t.n(g),v=void 0,k=0;h.a.interceptors.request.use(function(e){return 1==++k&&(v=r.Loading.service({fullscreen:!0})),e},function(e){return v.close(),r.Message.error({message:"请求超时"}),d.a.reject(e)}),h.a.interceptors.response.use(function(e){return 0==--k&&v.close(),401==e.status&&(localStorage.removeItem("token"),y.push({name:"login"})),e.data||e},function(e){return(e+"").indexOf(401)>=0&&(localStorage.removeItem("token"),y.push({name:"login"})),v.close(),r.Message.error({message:"服务器请求异常"}),d.a.reject(e)});var w="http://test.manager.patchlinker.com";"admin.patchlinker.com"==location.host&&(w="http://manager.patchlinker.com");var b=function(e,n){var t=w+e;return h()({method:"POST",url:t,headers:{Token:localStorage.getItem("token"),"User-Id":localStorage.getItem("user_id")},data:{data:n||{}}})},I={login:function(e){return function(e,n){var t=w+e;return h()({method:"POST",url:t,data:{data:n||{}}})}("/v1/management/user/login",e)},searchUserList:function(e){return b("/v1/management/app-user/list",e)},authList:function(e){return b("/v1/management/app-user/real-name",e)},authVerify:function(e){return b("/v1/management/app-user/real-name/handle",e)},operateInfo:function(e){return b("/v1/management/operate/real-name",e)},feedBackList:function(e){return b("/v1/management/feedback/user-feedback",e)},dealFeedBack:function(e){return b("/v1/management/reports/handle",e)},feedbackOperate:function(e){return b("/v1/management/reports/operate_info",e)},appealList:function(e){return b("/v1/management/feedback/task-appeal",e)},dealAppeal:function(e){return b("/v1/management/feedback/task-appeal/handle",e)},appealOpearteInfo:function(e){return b("/v1/management/operate/task-appeal",e)},taskList:function(e){return b("/v1/patchlinker/tasks/search",e)},watchTaskList:function(e){return b("/v1/management/tasks/onlooker",e)},verifyWatchTask:function(e){return b("/v1/management/tasks/onlooker/handle",e)},watchOperateInfo:function(e){return b("/v1/management/tasks/onlooker/operate_info",e)},categoryList:function(e){return b("/v1/management/categories",e)},addCategory:function(e){return b("/v1/management/categories/add",e)},categoryOperateRecord:function(e){return b("/v1/management/categories/operate_info",e)},delCategory:function(e){return b("/v1/patchlinker/categories/del",e)},withdrawList:function(e){return b("/v1/management/app-user/withdraw",e)},handleWithdraw:function(e){return b("/v1/management/app-user/withdraw/handle",e)},withdrawOperateInfo:function(e){return b("/v1/management/wallet/withdraw/operate_info",e)},setAuth:function(e){return b("/v1/management/app/users/budingauthed/handle",e)},getWatchList:function(e){return b("/v1/management/tasks/user/onlooker",e)},getPushedList:function(e){return b("/v1/management/task/user/publish",e)},getApplyList:function(e){return b("/v1/management/task/user/doing",e)},getPersonDetail:function(e){return b("/v1/management/app-user/info",e)},changeTaskStatus:function(e){return b("/v1/management/task/change",e)},getNearTaskList:function(e){return b("/v1/management/task/near",e)},getNearTaskInfo:function(e){return b("/v1/management/task/info",e)},getUserInfo:function(e){return b("/v1/management/app-user/info",e)},addUser:function(e){return b("/v1/management/app-user/generate",e)},getSts:function(e){return b("/v1/management/common/sts",e)},getRepostList:function(e){return b("/v1/management/feedback/task-complain",e)},dealReport:function(e){return b("/v1/management/feedback/task-complain/handle",e)},checkOperateInfo:function(e){return b("/v1/management/operate/user-complain",e)},changeBudingStatus:function(e){return b("/v1/management/app-user/buding-auth/handle",e)},personDoingList:function(e){return b("/v1/management/app-user/moment",e)}},M=this;a.default.use(l.a);var P,T=new l.a({routes:[{path:"*",redirect:"login"},{path:"/login",name:"login",component:function(){return t.e(2).then(t.bind(null,"lmfZ"))}},{path:"/",component:function(){return t.e(3).then(t.bind(null,"VZrM"))},children:[{path:"",redirect:"/authentication"},{name:"authentication",path:"authentication",component:function(){return Promise.all([t.e(0),t.e(10)]).then(t.bind(null,"ytBm"))}},{name:"watchTaskVerify",path:"watchTaskVerify",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"YvL1"))}},{name:"feedbackInfoDeal",path:"feedbackInfoDeal",component:function(){return Promise.all([t.e(0),t.e(12)]).then(t.bind(null,"TskX"))}},{name:"appealTaskDeal",path:"appealTaskDeal",component:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,"ixZd"))}},{name:"taskManagement",path:"taskManagement",component:function(){return Promise.all([t.e(0),t.e(16)]).then(t.bind(null,"ygi2"))}},{name:"notifyManagement",path:"notifyManagement",component:function(){return t.e(18).then(t.bind(null,"1wUX"))}},{name:"startPageSet",path:"startPageSet",component:function(){return t.e(15).then(t.bind(null,"EjR7"))}},{name:"categorySet",path:"categorySet",component:function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"aO6M"))}},{name:"userHelpSet",path:"userHelpSet",component:function(){return t.e(9).then(t.bind(null,"cEpT"))}},{name:"authManagement",path:"authManagement",component:function(){return t.e(19).then(t.bind(null,"9zJt"))}},{name:"roleManagement",path:"roleManagement",component:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"HWJw"))}},{name:"checkTasks",path:"checkTasks",component:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"37cF"))}},{name:"taskAccount",path:"taskAccount",component:function(){return Promise.all([t.e(0),t.e(17)]).then(t.bind(null,"IvrA"))}},{name:"withdraw",path:"withdraw",component:function(){return Promise.all([t.e(0),t.e(11)]).then(t.bind(null,"wtWj"))}},{name:"nearTask",path:"nearTask",component:function(){return Promise.all([t.e(0),t.e(14)]).then(t.bind(null,"LHkh"))}},{name:"accountManage",path:"accountManage",component:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,"Vq2u"))}},{name:"reportTaskDeal",path:"reportTaskDeal",component:function(){return Promise.all([t.e(0),t.e(13)]).then(t.bind(null,"8I8n"))}}]}]});sessionStorage.getItem("auth");T.beforeEach((P=p()(c.a.mark(function e(n,t,a){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"login"==n.name||localStorage.getItem("token")?a():T.push({name:"login"});case 1:case"end":return e.stop()}},e,M)})),function(e,n,t){return P.apply(this,arguments)}));var y=T,S=t("NYxO");a.default.use(S.a);var C=new S.a.Store({state:{userInfo:{},balance:0,messageCount:0,addressInput:"北京",investmentCount:0},mutations:{updateUserInfo:function(e,n){e.userInfo=n},updateBalance:function(e,n){e.balance=n},updateMessageCount:function(e,n){e.messageCount=n},updateAddress:function(e,n){e.addressInput=n},updateInvestInfo:function(e,n){e.investmentCount=n}},actions:{updateMessageCount:function(e,n){var t=this;return p()(c.a.mark(function a(){var r,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!=n){t.next=7;break}return t.next=3,I.getMessageCount({});case 3:0==(r=t.sent).errorCode?(o=r.data&&r.data.count||0,e.commit("updateMessageCount",o)):e.commit("updateMessageCount",0),t.next=8;break;case 7:e.commit("updateMessageCount",0);case 8:case"end":return t.stop()}},a,t)}))()},updateInvestInfo:function(e){var n=this;return p()(c.a.mark(function t(){var a,r;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.cypherActivityData({});case 2:0==(a=n.sent).errorCode?(r=a.data.invited_count||0,e.commit("updateInvestInfo",r)):e.commit("updateInvestInfo",0);case 4:case"end":return n.stop()}},t,n)}))()},updateAddress:function(e,n){e.commit("updateAddress",n)},updateUserInfo:function(e){var n=this;return p()(c.a.mark(function t(){var a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.getProfile({});case 2:0==(a=n.sent).errorCode&&e.commit("updateUserInfo",a.data||{});case 4:case"end":return n.stop()}},t,n)}))()},updateBalance:function(e){var n=this;return p()(c.a.mark(function t(){var a,r,o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=localStorage.getItem("agentId")||localStorage.getItem("userId"),r={user_id:a},n.next=4,I.balanceGet(r);case 4:0==(o=n.sent).errorCode?e.commit("updateBalance",o.data||{}):e.commit("updateBalance",{});case 6:case"end":return n.stop()}},t,n)}))()}},getters:{getUserInfo:function(e){return e.userInfo}}});t("X6nt");a.default.config.productionTip=!1,a.default.use(o.a),a.default.prototype.$api=I,new a.default({el:"#app",router:y,store:C,components:{App:i},template:"<App/>"})},X6nt:function(e,n){},kwCW:function(e,n){},tvR6:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.e46001c519ab13562fcc.js.map